<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Upload Resume</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />

  <style>
    * {
      box-sizing: border-box;
    }

    :root {
      --clr-white: #fff;
      --clr-black: #000;
      --clr-light: #f5f8ff;
      --clr-light-gray: #c4c3c4;
      --clr-blue: #3f86ff;
      --clr-light-blue: #abcaff;
    }

    body {
      margin: 0;
      padding: 0;
      background-color: var(--clr-light);
      color: var(--clr-black);
      font-family: 'Poppins', sans-serif;
      font-size: 1.125rem;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .upload-area {
      width: 100%;
      max-width: 25rem;
      background-color: var(--clr-white);
      box-shadow: 0 10px 60px rgb(218, 229, 255);
      border: 2px solid var(--clr-light-blue);
      border-radius: 24px;
      padding: 2rem 1.875rem 5rem;
      margin: 1rem;
      text-align: center;
    }

    .upload-area__title {
      font-size: 1.8rem;
      font-weight: 500;
      margin-bottom: 0.3125rem;
    }

    .upload-area__paragraph {
      font-size: 0.9375rem;
      color: var(--clr-light-gray);
      margin-top: 0;
    }

    .upload-area__tooltip {
      color: var(--clr-light-blue);
      cursor: pointer;
    }

    .upload-area__tooltip:hover {
      color: var(--clr-blue);
    }

    .drop-zoon {
      position: relative;
      height: 180px;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      border: 2px dashed var(--clr-light-blue);
      border-radius: 15px;
      margin-top: 2rem;
      cursor: pointer;
      transition: border-color 300ms ease-in-out;
    }

    .drop-zoon:hover {
      border-color: var(--clr-blue);
    }

    .drop-zoon__icon {
      font-size: 3.75rem;
      color: var(--clr-blue);
    }

    .drop-zoon__paragraph {
      font-size: 0.9375rem;
      color: var(--clr-light-gray);
      margin-top: 0.625rem;
    }

    .drop-zoon__file-input {
      display: none;
    }

    .drop-zoon__loading-text {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--clr-light-blue);
      font-weight: bold;
    }

    .drop-zoon__preview-image {
      display: none;
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 10px;
      padding: 0.3125rem;
      z-index: 1000;
    }

    .upload-area__file-details {
      visibility: hidden;
      opacity: 0;
      transition: opacity 500ms ease-in-out;
      text-align: left;
      margin-top: 1.5rem;
    }

    .upload-area--open .upload-area__file-details {
      visibility: visible;
      opacity: 1;
    }

    .uploaded-file {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .uploaded-file__name {
      font-size: 1rem;
      max-width: 140px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .uploaded-file__counter {
      font-size: 1rem;
      color: var(--clr-light-gray);
    }
  </style>
</head>
<body>

  <form method="POST" enctype="multipart/form-data">
    <div id="uploadArea" class="upload-area">
      <!-- Header -->
      <div class="upload-area__header">
        <h1 class="upload-area__title">Upload your resume</h1>
        <p class="upload-area__paragraph">
          File should be an resume
          <strong class="upload-area__tooltip">like <span class="upload-area__tooltip-data"></span></strong>
        </p>
      </div>

      <!-- Drop Zone -->
      <div id="dropZoon" class="drop-zoon">
        <span class="drop-zoon__icon">ðŸ“„</span>
        <p class="drop-zoon__paragraph">Drop your file here or Click to browse</p>
        <span id="loadingText" class="drop-zoon__loading-text">Please Wait...</span>
        <img id="previewImage" class="drop-zoon__preview-image" alt="Preview" draggable="false">
        <input type="file" name="resume" id="fileInput" class="drop-zoon__file-input" accept="image/*" required>
      </div>

      <!-- File Details -->
      <div id="fileDetails" class="upload-area__file-details">
        <h3 class="file-details__title">Uploaded File</h3>
        <div class="uploaded-file">
          <span class="uploaded-file__name">No file selected</span>
          <span class="uploaded-file__counter">0%</span>
        </div>
      </div>

      <button type="submit" style="
        margin-top: 30px;
        background: var(--clr-blue);
        color: white;
        font-weight: 600;
        font-size: 1rem;
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: background 0.3s ease;
      ">Upload Resume</button>
    </div>
  </form>

  <script>
    const uploadArea = document.querySelector('#uploadArea');
    const dropZoon = document.querySelector('#dropZoon');
    const loadingText = document.querySelector('#loadingText');
    const fileInput = document.querySelector('#fileInput');
    const previewImage = document.querySelector('#previewImage');
    const fileDetails = document.querySelector('#fileDetails');
    const uploadedFileName = document.querySelector('.uploaded-file__name');
    const uploadedFileCounter = document.querySelector('.uploaded-file__counter');
    const tooltipData = document.querySelector('.upload-area__tooltip-data');

    const allowedTypes = ['pdf','docx'];
    tooltipData.textContent = allowedTypes.join(', .');

    dropZoon.addEventListener('dragover', e => {
      e.preventDefault();
      dropZoon.style.borderColor = '#3f86ff';
    });

    dropZoon.addEventListener('dragleave', () => {
      dropZoon.style.borderColor = '#abcaff';
    });

    dropZoon.addEventListener('drop', e => {
      e.preventDefault();
      const file = e.dataTransfer.files[0];
      handleFile(file);
    });

    dropZoon.addEventListener('click', () => fileInput.click());

    fileInput.addEventListener('change', e => {
      const file = e.target.files[0];
      handleFile(file);
    });

    function handleFile(file) {
      const fileType = file.type.split('/')[1];
      const fileSize = file.size;

      if (!allowedTypes.includes(fileType)) {
        alert('Please upload an image file (jpeg, png, gif, svg)');
        return;
      }

      if (fileSize > 2 * 1024 * 1024) {
        alert('File size should be 2MB or less');
        return;
      }

      const reader = new FileReader();
      reader.onload = () => {
        loadingText.style.display = 'none';
        previewImage.style.display = 'block';
        previewImage.src = reader.result;
        fileDetails.classList.add('file-details--open');
        uploadArea.classList.add('upload-area--open');
        uploadedFileName.textContent = file.name;
        animateCounter();
      };

      loadingText.style.display = 'block';
      previewImage.style.display = 'none';
      reader.readAsDataURL(file);
    }

    function animateCounter() {
      let count = 0;
      const interval = setInterval(() => {
        if (count >= 100) return clearInterval(interval);
        count += 10;
        uploadedFileCounter.textContent = `${count}%`;
      }, 80);
    }
  </script>

</body>
</html>
